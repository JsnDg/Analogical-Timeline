{"ast":null,"code":"var _jsxFileName = \"/Users/jasonding/Desktop/Robot2025/src/components/Showcase.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\n\n/** 生成随机 ID 的小工具函数，用于给新添加的事件分配稳定的 event.id */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction generateUniqueId() {\n  return Math.random().toString(36).substr(2, 9);\n}\n\n/** \n * Helper function to generate a curved path (cubic Bezier curve example)\n */\nfunction generateCurvePath(x1, y1, x2, y2) {\n  const cx = (x1 + x2) / 2;\n  return `M ${x1},${y1} C ${cx},${y1} ${cx},${y2} ${x2},${y2}`;\n}\n\n/**\n * Modal Component for adding new events\n */\nfunction AddEventModal({\n  isOpen,\n  onClose,\n  onSubmit,\n  waveIndex\n}) {\n  _s();\n  const [date, setDate] = useState('');\n  const [title, setTitle] = useState('');\n  const [detail, setDetail] = useState('');\n  if (!isOpen) return null;\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (date && title) {\n      onSubmit(waveIndex, {\n        date,\n        title,\n        detail\n      });\n      onClose();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        padding: '20px',\n        borderRadius: '8px',\n        width: '400px',\n        boxShadow: '0 4px 8px rgba(0,0,0,0.2)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginTop: 0\n        },\n        children: \"Add New Event\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px'\n            },\n            children: \"Date (YYYY-MM-DD):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: date,\n            onChange: e => setDate(e.target.value),\n            style: {\n              width: '100%',\n              padding: '8px',\n              borderRadius: '4px',\n              border: '1px solid #ddd'\n            },\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px'\n            },\n            children: \"Title:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: title,\n            onChange: e => setTitle(e.target.value),\n            style: {\n              width: '100%',\n              padding: '8px',\n              borderRadius: '4px',\n              border: '1px solid #ddd'\n            },\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px'\n            },\n            children: \"Details:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: detail,\n            onChange: e => setDetail(e.target.value),\n            style: {\n              width: '100%',\n              padding: '8px',\n              borderRadius: '4px',\n              border: '1px solid #ddd',\n              minHeight: '100px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-end',\n            gap: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onClose,\n            style: {\n              padding: '8px 16px',\n              border: '1px solid #ddd',\n              borderRadius: '4px',\n              backgroundColor: '#f1f1f1',\n              cursor: 'pointer'\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              padding: '8px 16px',\n              border: 'none',\n              borderRadius: '4px',\n              backgroundColor: '#007BFF',\n              color: 'white',\n              cursor: 'pointer'\n            },\n            children: \"Add Event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n\n/**\n * ConnectionLine 组件：绘制正式的红色连接线，\n * hover 时加粗并增加 glow 效果，点击时弹出确认后删除该连接。\n */\n_s(AddEventModal, \"4VA6FwmwkOYZPhDx0sMynZpeWtk=\");\n_c = AddEventModal;\nfunction ConnectionLine({\n  fromPos,\n  toPos,\n  reason,\n  onDelete\n}) {\n  _s2();\n  const [hovered, setHovered] = useState(false);\n  const strokeColor = hovered ? 'rgba(220,20,60,0.9)' : 'rgba(255,0,0,0.4)';\n  const strokeWidth = hovered ? 3 : 2;\n  const pathData = generateCurvePath(fromPos.x, fromPos.y, toPos.x, toPos.y);\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    onMouseEnter: () => setHovered(true),\n    onMouseLeave: () => setHovered(false),\n    onClick: e => {\n      e.stopPropagation();\n      if (window.confirm('Delete this connection?')) {\n        onDelete();\n      }\n    },\n    style: {\n      cursor: 'pointer'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n      d: pathData,\n      stroke: strokeColor,\n      strokeWidth: strokeWidth,\n      fill: \"none\",\n      style: {\n        pointerEvents: 'all',\n        filter: hovered ? 'drop-shadow(0 0 3px rgba(255,0,0,0.3))' : 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n      x: (fromPos.x + toPos.x) / 2,\n      y: (fromPos.y + toPos.y) / 2 - 5,\n      fill: strokeColor,\n      fontSize: hovered ? 14 : 12,\n      fontWeight: hovered ? 'bold' : 'normal',\n      textAnchor: \"middle\",\n      style: {\n        pointerEvents: 'none',\n        filter: hovered ? 'drop-shadow(0 1px 2px rgba(255,255,255,0.8))' : 'none'\n      },\n      children: reason\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 5\n  }, this);\n}\n\n/**\n * EventGroup 组件：根据事件数量决定显示方式\n * 1. 如果只有 1 个事件 -> 原来的单事件节点\n * 2. 如果有 2 个事件 -> 并排展示两个事件卡片（无单一时间戳）\n * 3. 如果有 3+ 个事件 -> 保持原先“合并分组”样式\n */\n_s2(ConnectionLine, \"V8YbV+gTZxGliGj1g0fftBlvsq4=\");\n_c2 = ConnectionLine;\nfunction EventGroup({\n  events,\n  waveIndex,\n  registerPosition,\n  onEventClick,\n  onDelete,\n  scrollPos\n}) {\n  _s4();\n  const groupRef = useRef(null);\n\n  // 用于在单事件或分组时显示 hover 等\n  const [hover, setHover] = useState(false);\n\n  // 按日期先后排序\n  const sortedEvents = [...events].sort((a, b) => new Date(a.date) - new Date(b.date));\n  const eventCount = sortedEvents.length;\n\n  // 统一注册位置：我们需要对每个事件注册位置，供连接线计算使用\n  useEffect(() => {\n    if (groupRef.current) {\n      const groupRect = groupRef.current.getBoundingClientRect();\n      // 简单取容器中心点作为事件位置（实际也可根据每个事件的DOM单独测量）\n      const groupCenter = {\n        x: groupRect.left + groupRect.width / 2,\n        y: groupRect.top + groupRect.height / 2\n      };\n\n      // 对组内每个事件都注册同一个位置（也可以细分，但这里简化处理）\n      sortedEvents.forEach(ev => {\n        const eventId = `${waveIndex}-${ev.id}`;\n        registerPosition(eventId, groupCenter);\n      });\n    }\n  }, [groupRef, registerPosition, waveIndex, sortedEvents, scrollPos]);\n\n  // ====== 仅 1 个事件时的布局 ======\n  if (eventCount === 1) {\n    const singleEvent = sortedEvents[0];\n    const singleEventId = `${waveIndex}-${singleEvent.id}`;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: groupRef,\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        marginBottom: '20px',\n        cursor: 'pointer',\n        position: 'relative',\n        padding: '8px 10px',\n        zIndex: 2,\n        transition: 'transform 0.2s ease',\n        transform: hover ? 'translateX(3px)' : 'none'\n      },\n      onMouseEnter: () => setHover(true),\n      onMouseLeave: () => setHover(false),\n      onClick: () => onEventClick(singleEventId),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '16px',\n          height: '16px',\n          borderRadius: '50%',\n          backgroundColor: hover ? '#0056b3' : '#007BFF',\n          marginRight: '12px',\n          flexShrink: 0,\n          boxShadow: hover ? '0 0 0 4px rgba(0, 123, 255, 0.2)' : 'none',\n          transition: 'all 0.2s ease'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'relative'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: '2px solid #ddd',\n            borderRadius: '20px',\n            padding: '8px 14px',\n            background: hover ? '#f8f9fa' : '#fff',\n            fontSize: '15px',\n            minWidth: '120px',\n            textAlign: 'center',\n            marginBottom: '4px',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n            transition: 'all 0.2s ease'\n          },\n          children: singleEvent.date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '14px',\n            textAlign: 'left',\n            fontWeight: 'bold',\n            transition: 'color 0.2s ease',\n            color: hover ? '#007BFF' : '#333'\n          },\n          children: singleEvent.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.stopPropagation();\n            onDelete(singleEvent.id);\n          },\n          style: {\n            position: 'absolute',\n            top: 0,\n            right: 0,\n            background: 'transparent',\n            border: 'none',\n            color: hover ? '#ff3333' : 'rgba(255,0,0,0.7)',\n            fontSize: '18px',\n            cursor: 'pointer',\n            zIndex: 3,\n            transition: 'all 0.2s ease',\n            opacity: hover ? 1 : 0.6\n          },\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this);\n  }\n\n  // ====== 恰好 2 个事件时的布局（并排展示） ======\n  if (eventCount === 2) {\n    var _s3 = $RefreshSig$();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: groupRef,\n      style: {\n        display: 'flex',\n        alignItems: 'flex-start',\n        marginBottom: '20px',\n        gap: '16px',\n        position: 'relative',\n        padding: '8px 10px',\n        zIndex: 2\n      },\n      children: _s3(sortedEvents.map(_s3(ev => {\n        _s3();\n        const evId = `${waveIndex}-${ev.id}`;\n        const [hoverCard, setHoverCard] = useState(false);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'relative',\n            width: '160px',\n            padding: '10px',\n            border: '2px solid #ddd',\n            borderRadius: '8px',\n            backgroundColor: '#fff',\n            boxShadow: hoverCard ? '0 4px 8px rgba(0,0,0,0.15)' : '0 2px 4px rgba(0,0,0,0.08)',\n            cursor: 'pointer',\n            transition: 'all 0.2s ease'\n          },\n          onMouseEnter: () => setHoverCard(true),\n          onMouseLeave: () => setHoverCard(false),\n          onClick: () => onEventClick(evId),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 'bold',\n              marginBottom: '4px',\n              fontSize: '14px',\n              color: '#007BFF'\n            },\n            children: ev.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '13px',\n              marginBottom: '6px',\n              color: '#555'\n            },\n            children: ev.date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this), hoverCard && ev.detail && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              color: '#333',\n              backgroundColor: '#f9f9f9',\n              padding: '6px',\n              borderRadius: '4px',\n              border: '1px solid #eee'\n            },\n            children: ev.detail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              e.stopPropagation();\n              onDelete(ev.id);\n            },\n            style: {\n              position: 'absolute',\n              top: '6px',\n              right: '6px',\n              background: 'transparent',\n              border: 'none',\n              color: hoverCard ? '#ff3333' : 'rgba(255,0,0,0.6)',\n              fontSize: '14px',\n              cursor: 'pointer',\n              transition: 'color 0.2s ease'\n            },\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this)]\n        }, ev.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this);\n      }, \"cC8hwK2yF31/reLa6ybwqfIpqAI=\")), \"cC8hwK2yF31/reLa6ybwqfIpqAI=\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this);\n  }\n\n  // ====== 3 个及以上事件的布局（原先的合并分组逻辑） ======\n  const [expandedGroup, setExpandedGroup] = useState(true); // 也可以默认为 false\n  const mainEvent = sortedEvents[0]; // 用第一个事件代表这个组\n  const mainEventId = `${waveIndex}-${mainEvent.id}`;\n\n  // 创建日期格式化函数，用于组内事件排序和显示\n  const formatDate = dateStr => {\n    const date = new Date(dateStr);\n    return date.toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: groupRef,\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      marginBottom: '20px',\n      cursor: 'pointer',\n      position: 'relative',\n      padding: '8px 10px',\n      zIndex: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '20px',\n        height: '20px',\n        borderRadius: '50%',\n        backgroundColor: '#007BFF',\n        marginRight: '12px',\n        flexShrink: 0,\n        color: 'white',\n        fontSize: '12px',\n        fontWeight: 'bold',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      onClick: () => setExpandedGroup(!expandedGroup),\n      children: eventCount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '2px solid #ddd',\n          borderRadius: '20px',\n          padding: '8px 14px',\n          background: '#fff',\n          fontSize: '15px',\n          minWidth: '120px',\n          textAlign: 'center',\n          marginBottom: '4px',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n          transition: 'all 0.2s ease'\n        },\n        children: `${mainEvent.date} (+${eventCount - 1})`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '14px',\n          textAlign: 'left',\n          fontWeight: 'bold',\n          color: '#333'\n        },\n        children: [mainEvent.title, !expandedGroup && '...']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 9\n      }, this), expandedGroup && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '8px',\n          padding: '8px',\n          border: '1px solid #eee',\n          borderRadius: '8px',\n          background: '#f9f9f9'\n        },\n        children: sortedEvents.map(ev => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: '5px 0',\n            padding: '5px',\n            borderBottom: ev.id !== sortedEvents[sortedEvents.length - 1].id ? '1px solid #eee' : 'none',\n            display: 'flex',\n            justifyContent: 'space-between'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 'bold'\n              },\n              children: ev.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                color: '#666'\n              },\n              children: formatDate(ev.date)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 19\n            }, this), ev.detail && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                color: '#333',\n                marginTop: '4px'\n              },\n              children: ev.detail\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              e.stopPropagation();\n              onDelete(ev.id);\n            },\n            style: {\n              background: 'transparent',\n              border: 'none',\n              color: 'rgba(255,0,0,0.7)',\n              fontSize: '14px',\n              cursor: 'pointer',\n              marginLeft: '8px'\n            },\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 17\n          }, this)]\n        }, ev.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 408,\n    columnNumber: 5\n  }, this);\n}\n\n/**\n * Timeline 组件：渲染单条时间线，包括顶部标题、\"+\" 按钮、时间段说明及垂直事件列表\n */\n_s4(EventGroup, \"1hrRVWopJXSWCixeYdbKk1oBPLA=\");\n_c3 = EventGroup;\nfunction Timeline({\n  wave,\n  waveIndex,\n  registerPosition,\n  onEventClick,\n  onAddEvent,\n  onDeleteEvent,\n  scrollPos\n}) {\n  const timelineHeight = 1600;\n\n  // 获取时间轴的起始和结束时间\n  const timestamps = wave.events.map(e => new Date(e.date).getTime());\n  const firstEventTime = timestamps.length > 0 ? Math.min(...timestamps) : Date.now();\n  const firstEventDate = new Date(firstEventTime);\n  const timelineStart = new Date(firstEventDate.getFullYear(), 0, 1).getTime();\n\n  // 固定为六年半的时间跨度（毫秒）\n  const fiveYearsInMs = 7 * 365.25 * 24 * 60 * 60 * 1000;\n  const timelineEndTime = timelineStart + fiveYearsInMs;\n  const safeTimeSpan = timelineEndTime - timelineStart;\n\n  // 按日期排序所有事件\n  const sortedEvents = [...wave.events].sort((a, b) => new Date(a.date) - new Date(b.date));\n\n  // 将接近的事件分组（时间差 ≤ 3 个月）\n  const THREE_MONTHS_MS = 3 * 30 * 24 * 60 * 60 * 1000;\n  const eventGroups = [];\n  let currentGroup = [];\n  sortedEvents.forEach((event, index) => {\n    if (index === 0) {\n      currentGroup.push(event);\n    } else {\n      const prevTime = new Date(sortedEvents[index - 1].date).getTime();\n      const currTime = new Date(event.date).getTime();\n      if (currTime - prevTime <= THREE_MONTHS_MS) {\n        currentGroup.push(event);\n      } else {\n        eventGroups.push([...currentGroup]);\n        currentGroup = [event];\n      }\n    }\n  });\n  if (currentGroup.length > 0) {\n    eventGroups.push(currentGroup);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      flex: '1',\n      margin: '0 20px',\n      position: 'relative',\n      padding: '15px',\n      backgroundColor: 'rgba(255,255,255,0.7)',\n      borderRadius: '8px',\n      boxShadow: '0 2px 10px rgba(0,0,0,0.05)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '2px',\n        borderBottom: '1px solid #eee',\n        paddingBottom: '2px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: '18px',\n          margin: 0,\n          color: '#2c3e50',\n          fontWeight: '600'\n        },\n        children: wave.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onAddEvent(waveIndex),\n        style: {\n          width: '30px',\n          height: '30px',\n          borderRadius: '50%',\n          backgroundColor: '#007BFF',\n          border: 'none',\n          color: '#fff',\n          fontWeight: 'bold',\n          cursor: 'pointer',\n          zIndex: 10,\n          boxShadow: '0 2px 5px rgba(0,123,255,0.4)',\n          transition: 'all 0.2s ease'\n        },\n        title: \"Add Event\",\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 584,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: '14px',\n        color: '#666',\n        marginBottom: '70px',\n        textAlign: 'center',\n        fontStyle: 'italic'\n      },\n      children: wave.period\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 620,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        width: '2px',\n        backgroundColor: '#bbb',\n        height: timelineHeight + 'px',\n        marginLeft: '0',\n        marginTop: '-70px',\n        borderRadius: '1px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: '0',\n          left: '-10px',\n          right: '-10px'\n        },\n        children: eventGroups.map((group, groupIndex) => {\n          // 使用组内第一个事件的时间来确定位置\n          const firstEvent = group[0];\n          const currentTime = new Date(firstEvent.date).getTime();\n          const offset = currentTime - timelineStart;\n          const ratio = offset / safeTimeSpan;\n          const pos = ratio * timelineHeight;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              top: pos + 'px',\n              width: '300px'\n            },\n            children: /*#__PURE__*/_jsxDEV(EventGroup, {\n              events: group,\n              waveIndex: waveIndex,\n              registerPosition: registerPosition,\n              onEventClick: onEventClick,\n              onDelete: eventId => onDeleteEvent(waveIndex, eventId),\n              scrollPos: scrollPos\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 17\n            }, this)\n          }, groupIndex, false, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 638,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 629,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 575,\n    columnNumber: 5\n  }, this);\n}\n\n/**\n * ConnectionsLayer 组件：渲染所有正式连接（红色曲线）以及正在建立的 pending connection（红色箭头跟随鼠标）。\n */\n_c4 = Timeline;\nfunction ConnectionsLayer({\n  connections,\n  eventPositions,\n  containerRef,\n  pendingConnection,\n  pendingConnectionEnd,\n  onDeleteConnection\n}) {\n  const containerRect = containerRef.current ? containerRef.current.getBoundingClientRect() : {\n    left: 0,\n    top: 0\n  };\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    style: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      zIndex: 1,\n      pointerEvents: 'none'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n      children: /*#__PURE__*/_jsxDEV(\"marker\", {\n        id: \"arrowhead\",\n        markerWidth: \"10\",\n        markerHeight: \"7\",\n        refX: \"10\",\n        refY: \"3.5\",\n        orient: \"auto\",\n        children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n          points: \"0 0, 10 3.5, 0 7\",\n          fill: \"red\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 695,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 694,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 693,\n      columnNumber: 7\n    }, this), connections.map((conn, index) => {\n      const fromPos = eventPositions[conn.from];\n      const toPos = eventPositions[conn.to];\n      if (!fromPos || !toPos) return null;\n      const adjustedFrom = {\n        x: fromPos.x - containerRect.left,\n        y: fromPos.y - containerRect.top\n      };\n      const adjustedTo = {\n        x: toPos.x - containerRect.left,\n        y: toPos.y - containerRect.top\n      };\n      return /*#__PURE__*/_jsxDEV(ConnectionLine, {\n        fromPos: adjustedFrom,\n        toPos: adjustedTo,\n        reason: conn.reason,\n        onDelete: () => onDeleteConnection(index)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 705,\n        columnNumber: 11\n      }, this);\n    }), pendingConnection && pendingConnectionEnd && eventPositions[pendingConnection.startEventId] && (() => {\n      const startPosGlobal = eventPositions[pendingConnection.startEventId];\n      const startPos = {\n        x: startPosGlobal.x - containerRect.left,\n        y: startPosGlobal.y - containerRect.top\n      };\n      return /*#__PURE__*/_jsxDEV(\"line\", {\n        x1: startPos.x,\n        y1: startPos.y,\n        x2: pendingConnectionEnd.x,\n        y2: pendingConnectionEnd.y,\n        stroke: \"red\",\n        strokeWidth: \"3\",\n        markerEnd: \"url(#arrowhead)\",\n        style: {\n          pointerEvents: 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 724,\n        columnNumber: 13\n      }, this);\n    })()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 682,\n    columnNumber: 5\n  }, this);\n}\n\n/**\n * ConnectionReasonModal - Modal component for entering connection reason\n */\n_c5 = ConnectionsLayer;\nfunction ConnectionReasonModal({\n  isOpen,\n  onClose,\n  onSubmit\n}) {\n  _s5();\n  const [reason, setReason] = useState('Manual connection');\n  if (!isOpen) return null;\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(reason || 'Manual connection');\n    onClose();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        padding: '20px',\n        borderRadius: '8px',\n        width: '400px',\n        boxShadow: '0 4px 8px rgba(0,0,0,0.2)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginTop: 0\n        },\n        children: \"Connection Reason\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 774,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px'\n            },\n            children: \"Reason for connection:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 777,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: reason,\n            onChange: e => setReason(e.target.value),\n            style: {\n              width: '100%',\n              padding: '8px',\n              borderRadius: '4px',\n              border: '1px solid #ddd'\n            },\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 778,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 776,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-end',\n            gap: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onClose,\n            style: {\n              padding: '8px 16px',\n              border: '1px solid #ddd',\n              borderRadius: '4px',\n              backgroundColor: '#f1f1f1',\n              cursor: 'pointer'\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 792,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              padding: '8px 16px',\n              border: 'none',\n              borderRadius: '4px',\n              backgroundColor: '#007BFF',\n              color: 'white',\n              cursor: 'pointer'\n            },\n            children: \"Create Connection\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 805,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 791,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 775,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 767,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 755,\n    columnNumber: 5\n  }, this);\n}\n\n/**\n * Showcase 主容器组件：\n * - 加载 JSON 文件中的 waves 与 connections 数据\n * - 支持添加、删除事件，以及通过点击连接不同事件形成连接线（连接前会弹出输入连接原因的 Modal）\n */\n_s5(ConnectionReasonModal, \"ZHQXH6Y0VcDeHTpWchZL8dxB+Q8=\");\n_c6 = ConnectionReasonModal;\nfunction Showcase() {\n  _s6();\n  // waves 与 connections 初始为空，通过 fetch 加载 data.json\n  const [waves, setWaves] = useState([]);\n  const [connections, setConnections] = useState([]);\n\n  // 注册事件节点的位置信息\n  const [eventPositions, setEventPositions] = useState({});\n  const registerPosition = (id, pos) => {\n    setEventPositions(prev => ({\n      ...prev,\n      [id]: pos\n    }));\n  };\n\n  // pendingConnection 保存正在建立连接的起点（eventId）\n  const [pendingConnection, setPendingConnection] = useState(null);\n  const [pendingConnectionEnd, setPendingConnectionEnd] = useState(null);\n\n  // 模态框状态\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showConnectionModal, setShowConnectionModal] = useState(false);\n  const [activeWaveIndex, setActiveWaveIndex] = useState(null);\n  const [pendingTo, setPendingTo] = useState(null);\n\n  // 加载 JSON 数据\n  useEffect(() => {\n    fetch('/data.json').then(res => res.json()).then(data => {\n      setWaves(data.waves);\n      setConnections(data.connections);\n    }).catch(error => console.error(\"Error loading data:\", error));\n  }, []);\n  const handleEventClick = eventId => {\n    // 如果当前没有正在连接的事件，则把这个事件作为连接起点\n    if (!pendingConnection) {\n      setPendingConnection({\n        startEventId: eventId\n      });\n    } else {\n      // 如果正在连接，且再次点到同一个事件，则取消连接\n      if (pendingConnection.startEventId === eventId) {\n        setPendingConnection(null);\n        setPendingConnectionEnd(null);\n        return;\n      }\n      // 否则，把这个事件当做终点，弹出“填写连接原因”的 Modal\n      setPendingTo(eventId);\n      setShowConnectionModal(true);\n    }\n  };\n  const handleAddEvent = waveIndex => {\n    setActiveWaveIndex(waveIndex);\n    setShowAddModal(true);\n  };\n  const handleSubmitNewEvent = (waveIndex, eventData) => {\n    setWaves(prev => {\n      const newWaves = [...prev];\n      const newId = generateUniqueId();\n      newWaves[waveIndex].events.push({\n        id: newId,\n        date: eventData.date,\n        title: eventData.title,\n        detail: eventData.detail\n      });\n      return newWaves;\n    });\n  };\n  const handleSubmitConnection = reason => {\n    setConnections(prev => [...prev, {\n      from: pendingConnection.startEventId,\n      to: pendingTo,\n      reason\n    }]);\n    setPendingConnection(null);\n    setPendingConnectionEnd(null);\n    setPendingTo(null);\n  };\n  const handleDeleteEvent = (waveIndex, eventId) => {\n    // 删除该事件\n    setWaves(prev => {\n      const newWaves = [...prev];\n      newWaves[waveIndex].events = newWaves[waveIndex].events.filter(e => e.id !== eventId);\n      return newWaves;\n    });\n    // 删除与之相关的所有连接\n    const targetId = `${waveIndex}-${eventId}`;\n    setConnections(prev => prev.filter(conn => conn.from !== targetId && conn.to !== targetId));\n  };\n  const handleDeleteConnection = connIndex => {\n    setConnections(prev => prev.filter((_, index) => index !== connIndex));\n  };\n  const containerRef = useRef(null);\n  const [scrollPos, setScrollPos] = useState(0);\n  useEffect(() => {\n    const handleScroll = () => setScrollPos(window.scrollY);\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n  const handleMouseMove = e => {\n    if (pendingConnection) {\n      const containerRect = containerRef.current.getBoundingClientRect();\n      setPendingConnectionEnd({\n        x: e.clientX - containerRect.left,\n        y: e.clientY - containerRect.top\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    onMouseMove: handleMouseMove,\n    style: {\n      padding: '20px',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(AddEventModal, {\n      isOpen: showAddModal,\n      onClose: () => setShowAddModal(false),\n      onSubmit: handleSubmitNewEvent,\n      waveIndex: activeWaveIndex\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 954,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ConnectionReasonModal, {\n      isOpen: showConnectionModal,\n      onClose: () => {\n        setShowConnectionModal(false);\n        setPendingConnection(null);\n        setPendingConnectionEnd(null);\n      },\n      onSubmit: handleSubmitConnection\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 962,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: 'center',\n        marginBottom: '40px'\n      },\n      children: \"Analogical Timeline of Tech Wave\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 972,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-around',\n        flexWrap: 'wrap',\n        marginTop: '40px',\n        position: 'relative',\n        zIndex: 0\n      },\n      children: waves.map((wave, index) => /*#__PURE__*/_jsxDEV(Timeline, {\n        wave: wave,\n        waveIndex: index,\n        registerPosition: registerPosition,\n        onEventClick: handleEventClick,\n        onAddEvent: handleAddEvent,\n        onDeleteEvent: handleDeleteEvent,\n        scrollPos: scrollPos\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 986,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 975,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ConnectionsLayer, {\n      connections: connections,\n      eventPositions: eventPositions,\n      containerRef: containerRef,\n      pendingConnection: pendingConnection,\n      pendingConnectionEnd: pendingConnectionEnd,\n      onDeleteConnection: handleDeleteConnection\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 998,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 945,\n    columnNumber: 5\n  }, this);\n}\n_s6(Showcase, \"p3AbXL5ciFI1rQBYg2Z4kbRamE4=\");\n_c7 = Showcase;\nexport default Showcase;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"AddEventModal\");\n$RefreshReg$(_c2, \"ConnectionLine\");\n$RefreshReg$(_c3, \"EventGroup\");\n$RefreshReg$(_c4, \"Timeline\");\n$RefreshReg$(_c5, \"ConnectionsLayer\");\n$RefreshReg$(_c6, \"ConnectionReasonModal\");\n$RefreshReg$(_c7, \"Showcase\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","generateUniqueId","Math","random","toString","substr","generateCurvePath","x1","y1","x2","y2","cx","AddEventModal","isOpen","onClose","onSubmit","waveIndex","_s","date","setDate","title","setTitle","detail","setDetail","handleSubmit","e","preventDefault","style","position","top","left","right","bottom","backgroundColor","display","alignItems","justifyContent","zIndex","children","padding","borderRadius","width","boxShadow","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","type","value","onChange","target","border","required","minHeight","gap","onClick","cursor","color","_c","ConnectionLine","fromPos","toPos","reason","onDelete","_s2","hovered","setHovered","strokeColor","strokeWidth","pathData","x","y","onMouseEnter","onMouseLeave","stopPropagation","window","confirm","d","stroke","fill","pointerEvents","filter","fontSize","fontWeight","textAnchor","_c2","EventGroup","events","registerPosition","onEventClick","scrollPos","_s4","groupRef","hover","setHover","sortedEvents","sort","a","b","Date","eventCount","length","current","groupRect","getBoundingClientRect","groupCenter","height","forEach","ev","eventId","id","singleEvent","singleEventId","ref","transition","transform","marginRight","flexShrink","background","minWidth","textAlign","opacity","_s3","$RefreshSig$","map","evId","hoverCard","setHoverCard","expandedGroup","setExpandedGroup","mainEvent","mainEventId","formatDate","dateStr","toLocaleDateString","year","month","day","margin","borderBottom","flex","marginLeft","_c3","Timeline","wave","onAddEvent","onDeleteEvent","timelineHeight","timestamps","getTime","firstEventTime","min","now","firstEventDate","timelineStart","getFullYear","fiveYearsInMs","timelineEndTime","safeTimeSpan","THREE_MONTHS_MS","eventGroups","currentGroup","event","index","push","prevTime","currTime","paddingBottom","fontStyle","period","group","groupIndex","firstEvent","currentTime","offset","ratio","pos","_c4","ConnectionsLayer","connections","eventPositions","containerRef","pendingConnection","pendingConnectionEnd","onDeleteConnection","containerRect","markerWidth","markerHeight","refX","refY","orient","points","conn","from","to","adjustedFrom","adjustedTo","startEventId","startPosGlobal","startPos","markerEnd","_c5","ConnectionReasonModal","_s5","setReason","autoFocus","_c6","Showcase","_s6","waves","setWaves","setConnections","setEventPositions","prev","setPendingConnection","setPendingConnectionEnd","showAddModal","setShowAddModal","showConnectionModal","setShowConnectionModal","activeWaveIndex","setActiveWaveIndex","pendingTo","setPendingTo","fetch","then","res","json","data","catch","error","console","handleEventClick","handleAddEvent","handleSubmitNewEvent","eventData","newWaves","newId","handleSubmitConnection","handleDeleteEvent","targetId","handleDeleteConnection","connIndex","_","setScrollPos","handleScroll","scrollY","addEventListener","removeEventListener","handleMouseMove","clientX","clientY","onMouseMove","flexWrap","_c7","$RefreshReg$"],"sources":["/Users/jasonding/Desktop/Robot2025/src/components/Showcase.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\n/** 生成随机 ID 的小工具函数，用于给新添加的事件分配稳定的 event.id */\nfunction generateUniqueId() {\n  return Math.random().toString(36).substr(2, 9);\n}\n\n/** \n * Helper function to generate a curved path (cubic Bezier curve example)\n */\nfunction generateCurvePath(x1, y1, x2, y2) {\n  const cx = (x1 + x2) / 2;\n  return `M ${x1},${y1} C ${cx},${y1} ${cx},${y2} ${x2},${y2}`;\n}\n\n/**\n * Modal Component for adding new events\n */\nfunction AddEventModal({ isOpen, onClose, onSubmit, waveIndex }) {\n  const [date, setDate] = useState('');\n  const [title, setTitle] = useState('');\n  const [detail, setDetail] = useState('');\n  \n  if (!isOpen) return null;\n  \n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (date && title) {\n      onSubmit(waveIndex, { date, title, detail });\n      onClose();\n    }\n  };\n  \n  return (\n    <div style={{\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000,\n    }}>\n      <div style={{\n        backgroundColor: 'white',\n        padding: '20px',\n        borderRadius: '8px',\n        width: '400px',\n        boxShadow: '0 4px 8px rgba(0,0,0,0.2)',\n      }}>\n        <h3 style={{ marginTop: 0 }}>Add New Event</h3>\n        <form onSubmit={handleSubmit}>\n          <div style={{ marginBottom: '15px' }}>\n            <label style={{ display: 'block', marginBottom: '5px' }}>Date (YYYY-MM-DD):</label>\n            <input \n              type=\"date\" \n              value={date} \n              onChange={(e) => setDate(e.target.value)}\n              style={{ \n                width: '100%', \n                padding: '8px', \n                borderRadius: '4px',\n                border: '1px solid #ddd'\n              }}\n              required\n            />\n          </div>\n          <div style={{ marginBottom: '15px' }}>\n            <label style={{ display: 'block', marginBottom: '5px' }}>Title:</label>\n            <input \n              type=\"text\" \n              value={title} \n              onChange={(e) => setTitle(e.target.value)}\n              style={{ \n                width: '100%', \n                padding: '8px', \n                borderRadius: '4px',\n                border: '1px solid #ddd'\n              }}\n              required\n            />\n          </div>\n          <div style={{ marginBottom: '15px' }}>\n            <label style={{ display: 'block', marginBottom: '5px' }}>Details:</label>\n            <textarea \n              value={detail} \n              onChange={(e) => setDetail(e.target.value)}\n              style={{ \n                width: '100%', \n                padding: '8px', \n                borderRadius: '4px',\n                border: '1px solid #ddd',\n                minHeight: '100px'\n              }}\n            />\n          </div>\n          <div style={{ display: 'flex', justifyContent: 'flex-end', gap: '10px' }}>\n            <button \n              type=\"button\" \n              onClick={onClose}\n              style={{\n                padding: '8px 16px',\n                border: '1px solid #ddd',\n                borderRadius: '4px',\n                backgroundColor: '#f1f1f1',\n                cursor: 'pointer'\n              }}\n            >\n              Cancel\n            </button>\n            <button \n              type=\"submit\"\n              style={{\n                padding: '8px 16px',\n                border: 'none',\n                borderRadius: '4px',\n                backgroundColor: '#007BFF',\n                color: 'white',\n                cursor: 'pointer'\n              }}\n            >\n              Add Event\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\n/**\n * ConnectionLine 组件：绘制正式的红色连接线，\n * hover 时加粗并增加 glow 效果，点击时弹出确认后删除该连接。\n */\nfunction ConnectionLine({ fromPos, toPos, reason, onDelete }) {\n  const [hovered, setHovered] = useState(false);\n  const strokeColor = hovered ? 'rgba(220,20,60,0.9)' : 'rgba(255,0,0,0.4)';\n  const strokeWidth = hovered ? 3 : 2;\n  const pathData = generateCurvePath(fromPos.x, fromPos.y, toPos.x, toPos.y);\n\n  return (\n    <g\n      onMouseEnter={() => setHovered(true)}\n      onMouseLeave={() => setHovered(false)}\n      onClick={(e) => {\n        e.stopPropagation();\n        if (window.confirm('Delete this connection?')) {\n          onDelete();\n        }\n      }}\n      style={{ cursor: 'pointer' }}\n    >\n      <path \n        d={pathData} \n        stroke={strokeColor} \n        strokeWidth={strokeWidth} \n        fill=\"none\" \n        style={{ \n          pointerEvents: 'all',\n          filter: hovered ? 'drop-shadow(0 0 3px rgba(255,0,0,0.3))' : 'none',\n        }} \n      />\n      <text\n        x={(fromPos.x + toPos.x) / 2}\n        y={(fromPos.y + toPos.y) / 2 - 5}\n        fill={strokeColor}\n        fontSize={hovered ? 14 : 12}\n        fontWeight={hovered ? 'bold' : 'normal'}\n        textAnchor=\"middle\"\n        style={{ \n          pointerEvents: 'none',\n          filter: hovered ? 'drop-shadow(0 1px 2px rgba(255,255,255,0.8))' : 'none',\n        }}\n      >\n        {reason}\n      </text>\n    </g>\n  );\n}\n\n/**\n * EventGroup 组件：根据事件数量决定显示方式\n * 1. 如果只有 1 个事件 -> 原来的单事件节点\n * 2. 如果有 2 个事件 -> 并排展示两个事件卡片（无单一时间戳）\n * 3. 如果有 3+ 个事件 -> 保持原先“合并分组”样式\n */\nfunction EventGroup({ events, waveIndex, registerPosition, onEventClick, onDelete, scrollPos }) {\n  const groupRef = useRef(null);\n\n  // 用于在单事件或分组时显示 hover 等\n  const [hover, setHover] = useState(false);\n\n  // 按日期先后排序\n  const sortedEvents = [...events].sort((a, b) => new Date(a.date) - new Date(b.date));\n  const eventCount = sortedEvents.length;\n\n  // 统一注册位置：我们需要对每个事件注册位置，供连接线计算使用\n  useEffect(() => {\n    if (groupRef.current) {\n      const groupRect = groupRef.current.getBoundingClientRect();\n      // 简单取容器中心点作为事件位置（实际也可根据每个事件的DOM单独测量）\n      const groupCenter = {\n        x: groupRect.left + groupRect.width / 2,\n        y: groupRect.top + groupRect.height / 2,\n      };\n\n      // 对组内每个事件都注册同一个位置（也可以细分，但这里简化处理）\n      sortedEvents.forEach((ev) => {\n        const eventId = `${waveIndex}-${ev.id}`;\n        registerPosition(eventId, groupCenter);\n      });\n    }\n  }, [groupRef, registerPosition, waveIndex, sortedEvents, scrollPos]);\n\n  // ====== 仅 1 个事件时的布局 ======\n  if (eventCount === 1) {\n    const singleEvent = sortedEvents[0];\n    const singleEventId = `${waveIndex}-${singleEvent.id}`;\n\n    return (\n      <div\n        ref={groupRef}\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          marginBottom: '20px',\n          cursor: 'pointer',\n          position: 'relative',\n          padding: '8px 10px',\n          zIndex: 2,\n          transition: 'transform 0.2s ease',\n          transform: hover ? 'translateX(3px)' : 'none',\n        }}\n        onMouseEnter={() => setHover(true)}\n        onMouseLeave={() => setHover(false)}\n        onClick={() => onEventClick(singleEventId)}\n      >\n        {/* 圆点 */}\n        <div\n          style={{\n            width: '16px',\n            height: '16px',\n            borderRadius: '50%',\n            backgroundColor: hover ? '#0056b3' : '#007BFF',\n            marginRight: '12px',\n            flexShrink: 0,\n            boxShadow: hover ? '0 0 0 4px rgba(0, 123, 255, 0.2)' : 'none',\n            transition: 'all 0.2s ease',\n          }}\n        />\n        {/* 时间和标题 */}\n        <div style={{ position: 'relative' }}>\n          <div\n            style={{\n              border: '2px solid #ddd',\n              borderRadius: '20px',\n              padding: '8px 14px',\n              background: hover ? '#f8f9fa' : '#fff',\n              fontSize: '15px',\n              minWidth: '120px',\n              textAlign: 'center',\n              marginBottom: '4px',\n              boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n              transition: 'all 0.2s ease',\n            }}\n          >\n            {singleEvent.date}\n          </div>\n          <div style={{ \n            fontSize: '14px', \n            textAlign: 'left', \n            fontWeight: 'bold',\n            transition: 'color 0.2s ease',\n            color: hover ? '#007BFF' : '#333',\n          }}>\n            {singleEvent.title}\n          </div>\n          {/* 删除按钮 */}\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onDelete(singleEvent.id);\n            }}\n            style={{\n              position: 'absolute',\n              top: 0,\n              right: 0,\n              background: 'transparent',\n              border: 'none',\n              color: hover ? '#ff3333' : 'rgba(255,0,0,0.7)',\n              fontSize: '18px',\n              cursor: 'pointer',\n              zIndex: 3,\n              transition: 'all 0.2s ease',\n              opacity: hover ? 1 : 0.6,\n            }}\n          >\n            ×\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // ====== 恰好 2 个事件时的布局（并排展示） ======\n  if (eventCount === 2) {\n    return (\n      <div\n        ref={groupRef}\n        style={{\n          display: 'flex',\n          alignItems: 'flex-start',\n          marginBottom: '20px',\n          gap: '16px',\n          position: 'relative',\n          padding: '8px 10px',\n          zIndex: 2,\n        }}\n      >\n        {sortedEvents.map((ev) => {\n          const evId = `${waveIndex}-${ev.id}`;\n          const [hoverCard, setHoverCard] = useState(false);\n\n          return (\n            <div\n              key={ev.id}\n              style={{\n                position: 'relative',\n                width: '160px',\n                padding: '10px',\n                border: '2px solid #ddd',\n                borderRadius: '8px',\n                backgroundColor: '#fff',\n                boxShadow: hoverCard ? '0 4px 8px rgba(0,0,0,0.15)' : '0 2px 4px rgba(0,0,0,0.08)',\n                cursor: 'pointer',\n                transition: 'all 0.2s ease',\n              }}\n              onMouseEnter={() => setHoverCard(true)}\n              onMouseLeave={() => setHoverCard(false)}\n              onClick={() => onEventClick(evId)}\n            >\n              <div style={{ \n                fontWeight: 'bold', \n                marginBottom: '4px',\n                fontSize: '14px',\n                color: '#007BFF',\n              }}>\n                {ev.title}\n              </div>\n              <div style={{ fontSize: '13px', marginBottom: '6px', color: '#555' }}>\n                {ev.date}\n              </div>\n              {/* Hover 时显示的详情 */}\n              {hoverCard && ev.detail && (\n                <div style={{\n                  fontSize: '12px',\n                  color: '#333',\n                  backgroundColor: '#f9f9f9',\n                  padding: '6px',\n                  borderRadius: '4px',\n                  border: '1px solid #eee',\n                }}>\n                  {ev.detail}\n                </div>\n              )}\n              {/* 删除按钮 */}\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onDelete(ev.id);\n                }}\n                style={{\n                  position: 'absolute',\n                  top: '6px',\n                  right: '6px',\n                  background: 'transparent',\n                  border: 'none',\n                  color: hoverCard ? '#ff3333' : 'rgba(255,0,0,0.6)',\n                  fontSize: '14px',\n                  cursor: 'pointer',\n                  transition: 'color 0.2s ease',\n                }}\n              >\n                ×\n              </button>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n\n  // ====== 3 个及以上事件的布局（原先的合并分组逻辑） ======\n  const [expandedGroup, setExpandedGroup] = useState(true); // 也可以默认为 false\n  const mainEvent = sortedEvents[0]; // 用第一个事件代表这个组\n  const mainEventId = `${waveIndex}-${mainEvent.id}`;\n\n  // 创建日期格式化函数，用于组内事件排序和显示\n  const formatDate = (dateStr) => {\n    const date = new Date(dateStr);\n    return date.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });\n  };\n\n  return (\n    <div\n      ref={groupRef}\n      style={{\n        display: 'flex',\n        alignItems: 'center',\n        marginBottom: '20px',\n        cursor: 'pointer',\n        position: 'relative',\n        padding: '8px 10px',\n        zIndex: 2,\n      }}\n    >\n      <div\n        style={{\n          width: '20px',\n          height: '20px',\n          borderRadius: '50%',\n          backgroundColor: '#007BFF',\n          marginRight: '12px',\n          flexShrink: 0,\n          color: 'white',\n          fontSize: '12px',\n          fontWeight: 'bold',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n        onClick={() => setExpandedGroup(!expandedGroup)}\n      >\n        {eventCount}\n      </div>\n      <div style={{ position: 'relative' }}>\n        <div\n          style={{\n            border: '2px solid #ddd',\n            borderRadius: '20px',\n            padding: '8px 14px',\n            background: '#fff',\n            fontSize: '15px',\n            minWidth: '120px',\n            textAlign: 'center',\n            marginBottom: '4px',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n            transition: 'all 0.2s ease',\n          }}\n        >\n          {/* 显示第一个事件的日期，并带上 (+n) */}\n          {`${mainEvent.date} (+${eventCount - 1})`}\n        </div>\n        <div style={{ \n          fontSize: '14px', \n          textAlign: 'left', \n          fontWeight: 'bold',\n          color: '#333',\n        }}>\n          {mainEvent.title}\n          {!expandedGroup && '...'}\n        </div>\n\n        {/* 展开时显示所有事件 */}\n        {expandedGroup && (\n          <div style={{\n            marginTop: '8px',\n            padding: '8px',\n            border: '1px solid #eee',\n            borderRadius: '8px',\n            background: '#f9f9f9',\n          }}>\n            {sortedEvents.map((ev) => (\n              <div key={ev.id} style={{\n                margin: '5px 0',\n                padding: '5px',\n                borderBottom: ev.id !== sortedEvents[sortedEvents.length - 1].id ? '1px solid #eee' : 'none',\n                display: 'flex',\n                justifyContent: 'space-between',\n              }}>\n                <div style={{flex: 1}}>\n                  <div style={{fontWeight: 'bold'}}>{ev.title}</div>\n                  <div style={{fontSize: '12px', color: '#666'}}>{formatDate(ev.date)}</div>\n                  {ev.detail && (\n                    <div style={{\n                      fontSize: '12px',\n                      color: '#333',\n                      marginTop: '4px'\n                    }}>\n                      {ev.detail}\n                    </div>\n                  )}\n                </div>\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    onDelete(ev.id);\n                  }}\n                  style={{\n                    background: 'transparent',\n                    border: 'none',\n                    color: 'rgba(255,0,0,0.7)',\n                    fontSize: '14px',\n                    cursor: 'pointer',\n                    marginLeft: '8px',\n                  }}\n                >\n                  ×\n                </button>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n/**\n * Timeline 组件：渲染单条时间线，包括顶部标题、\"+\" 按钮、时间段说明及垂直事件列表\n */\nfunction Timeline({\n  wave,\n  waveIndex,\n  registerPosition,\n  onEventClick,\n  onAddEvent,\n  onDeleteEvent,\n  scrollPos,\n}) {\n  const timelineHeight = 1600;\n\n  // 获取时间轴的起始和结束时间\n  const timestamps = wave.events.map((e) => new Date(e.date).getTime());\n  const firstEventTime = timestamps.length > 0 ? Math.min(...timestamps) : Date.now();\n  const firstEventDate = new Date(firstEventTime);\n  const timelineStart = new Date(firstEventDate.getFullYear(), 0, 1).getTime();\n\n  // 固定为六年半的时间跨度（毫秒）\n  const fiveYearsInMs = 7 * 365.25 * 24 * 60 * 60 * 1000;\n  const timelineEndTime = timelineStart + fiveYearsInMs;\n  const safeTimeSpan = timelineEndTime - timelineStart;\n\n  // 按日期排序所有事件\n  const sortedEvents = [...wave.events].sort((a, b) => new Date(a.date) - new Date(b.date));\n\n  // 将接近的事件分组（时间差 ≤ 3 个月）\n  const THREE_MONTHS_MS = 3 * 30 * 24 * 60 * 60 * 1000;\n  const eventGroups = [];\n  let currentGroup = [];\n\n  sortedEvents.forEach((event, index) => {\n    if (index === 0) {\n      currentGroup.push(event);\n    } else {\n      const prevTime = new Date(sortedEvents[index - 1].date).getTime();\n      const currTime = new Date(event.date).getTime();\n      \n      if (currTime - prevTime <= THREE_MONTHS_MS) {\n        currentGroup.push(event);\n      } else {\n        eventGroups.push([...currentGroup]);\n        currentGroup = [event];\n      }\n    }\n  });\n  if (currentGroup.length > 0) {\n    eventGroups.push(currentGroup);\n  }\n\n  return (\n    <div style={{ \n      flex: '1', \n      margin: '0 20px', \n      position: 'relative',\n      padding: '15px',\n      backgroundColor: 'rgba(255,255,255,0.7)',\n      borderRadius: '8px',\n      boxShadow: '0 2px 10px rgba(0,0,0,0.05)',\n    }}>\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'space-between', \n        alignItems: 'center', \n        marginBottom: '2px',\n        borderBottom: '1px solid #eee',\n        paddingBottom: '2px',\n      }}>\n        <h2 style={{ \n          fontSize: '18px', \n          margin: 0,\n          color: '#2c3e50',\n          fontWeight: '600',\n        }}>\n          {wave.title}\n        </h2>\n        <button\n          onClick={() => onAddEvent(waveIndex)}\n          style={{\n            width: '30px',\n            height: '30px',\n            borderRadius: '50%',\n            backgroundColor: '#007BFF',\n            border: 'none',\n            color: '#fff',\n            fontWeight: 'bold',\n            cursor: 'pointer',\n            zIndex: 10,\n            boxShadow: '0 2px 5px rgba(0,123,255,0.4)',\n            transition: 'all 0.2s ease',\n          }}\n          title=\"Add Event\"\n        >\n          +\n        </button>\n      </div>\n      <div style={{ \n        fontSize: '14px', \n        color: '#666', \n        marginBottom: '70px', \n        textAlign: 'center',\n        fontStyle: 'italic',\n      }}>\n        {wave.period}\n      </div>\n      <div style={{ \n        position: 'relative', \n        width: '2px', \n        backgroundColor: '#bbb', \n        height: timelineHeight + 'px', \n        marginLeft: '0', \n        marginTop: '-70px',\n        borderRadius: '1px' \n      }}>\n        <div style={{ position: 'absolute', top: '0', left: '-10px', right: '-10px' }}>\n          {eventGroups.map((group, groupIndex) => {\n            // 使用组内第一个事件的时间来确定位置\n            const firstEvent = group[0];\n            const currentTime = new Date(firstEvent.date).getTime();\n            const offset = currentTime - timelineStart;\n            const ratio = offset / safeTimeSpan;\n            const pos = ratio * timelineHeight;\n            \n            return (\n              <div key={groupIndex} style={{ position: 'absolute', top: pos + 'px', width: '300px' }}>\n                <EventGroup \n                  events={group} \n                  waveIndex={waveIndex} \n                  registerPosition={registerPosition} \n                  onEventClick={onEventClick} \n                  onDelete={(eventId) => onDeleteEvent(waveIndex, eventId)} \n                  scrollPos={scrollPos} \n                />\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/**\n * ConnectionsLayer 组件：渲染所有正式连接（红色曲线）以及正在建立的 pending connection（红色箭头跟随鼠标）。\n */\nfunction ConnectionsLayer({\n  connections,\n  eventPositions,\n  containerRef,\n  pendingConnection,\n  pendingConnectionEnd,\n  onDeleteConnection,\n}) {\n  const containerRect = containerRef.current\n    ? containerRef.current.getBoundingClientRect()\n    : { left: 0, top: 0 };\n\n  return (\n    <svg\n      style={{\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        zIndex: 1,\n        pointerEvents: 'none',\n      }}\n    >\n      <defs>\n        <marker id=\"arrowhead\" markerWidth=\"10\" markerHeight=\"7\" refX=\"10\" refY=\"3.5\" orient=\"auto\">\n          <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"red\" />\n        </marker>\n      </defs>\n      {connections.map((conn, index) => {\n        const fromPos = eventPositions[conn.from];\n        const toPos = eventPositions[conn.to];\n        if (!fromPos || !toPos) return null;\n        const adjustedFrom = { x: fromPos.x - containerRect.left, y: fromPos.y - containerRect.top };\n        const adjustedTo = { x: toPos.x - containerRect.left, y: toPos.y - containerRect.top };\n        return (\n          <ConnectionLine\n            key={index}\n            fromPos={adjustedFrom}\n            toPos={adjustedTo}\n            reason={conn.reason}\n            onDelete={() => onDeleteConnection(index)}\n          />\n        );\n      })}\n      {pendingConnection &&\n        pendingConnectionEnd &&\n        eventPositions[pendingConnection.startEventId] &&\n        (() => {\n          const startPosGlobal = eventPositions[pendingConnection.startEventId];\n          const startPos = {\n            x: startPosGlobal.x - containerRect.left,\n            y: startPosGlobal.y - containerRect.top,\n          };\n          return (\n            <line\n              x1={startPos.x}\n              y1={startPos.y}\n              x2={pendingConnectionEnd.x}\n              y2={pendingConnectionEnd.y}\n              stroke=\"red\"\n              strokeWidth=\"3\"\n              markerEnd=\"url(#arrowhead)\"\n              style={{ pointerEvents: 'none' }}\n            />\n          );\n        })()}\n    </svg>\n  );\n}\n\n/**\n * ConnectionReasonModal - Modal component for entering connection reason\n */\nfunction ConnectionReasonModal({ isOpen, onClose, onSubmit }) {\n  const [reason, setReason] = useState('Manual connection');\n  \n  if (!isOpen) return null;\n  \n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(reason || 'Manual connection');\n    onClose();\n  };\n  \n  return (\n    <div style={{\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000,\n    }}>\n      <div style={{\n        backgroundColor: 'white',\n        padding: '20px',\n        borderRadius: '8px',\n        width: '400px',\n        boxShadow: '0 4px 8px rgba(0,0,0,0.2)',\n      }}>\n        <h3 style={{ marginTop: 0 }}>Connection Reason</h3>\n        <form onSubmit={handleSubmit}>\n          <div style={{ marginBottom: '15px' }}>\n            <label style={{ display: 'block', marginBottom: '5px' }}>Reason for connection:</label>\n            <input \n              type=\"text\" \n              value={reason} \n              onChange={(e) => setReason(e.target.value)}\n              style={{ \n                width: '100%', \n                padding: '8px', \n                borderRadius: '4px',\n                border: '1px solid #ddd'\n              }}\n              autoFocus\n            />\n          </div>\n          <div style={{ display: 'flex', justifyContent: 'flex-end', gap: '10px' }}>\n            <button \n              type=\"button\" \n              onClick={onClose}\n              style={{\n                padding: '8px 16px',\n                border: '1px solid #ddd',\n                borderRadius: '4px',\n                backgroundColor: '#f1f1f1',\n                cursor: 'pointer'\n              }}\n            >\n              Cancel\n            </button>\n            <button \n              type=\"submit\"\n              style={{\n                padding: '8px 16px',\n                border: 'none',\n                borderRadius: '4px',\n                backgroundColor: '#007BFF',\n                color: 'white',\n                cursor: 'pointer'\n              }}\n            >\n              Create Connection\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\n/**\n * Showcase 主容器组件：\n * - 加载 JSON 文件中的 waves 与 connections 数据\n * - 支持添加、删除事件，以及通过点击连接不同事件形成连接线（连接前会弹出输入连接原因的 Modal）\n */\nfunction Showcase() {\n  // waves 与 connections 初始为空，通过 fetch 加载 data.json\n  const [waves, setWaves] = useState([]);\n  const [connections, setConnections] = useState([]);\n  \n  // 注册事件节点的位置信息\n  const [eventPositions, setEventPositions] = useState({});\n  const registerPosition = (id, pos) => {\n    setEventPositions((prev) => ({ ...prev, [id]: pos }));\n  };\n\n  // pendingConnection 保存正在建立连接的起点（eventId）\n  const [pendingConnection, setPendingConnection] = useState(null);\n  const [pendingConnectionEnd, setPendingConnectionEnd] = useState(null);\n  \n  // 模态框状态\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showConnectionModal, setShowConnectionModal] = useState(false);\n  const [activeWaveIndex, setActiveWaveIndex] = useState(null);\n  const [pendingTo, setPendingTo] = useState(null);\n\n  // 加载 JSON 数据\n  useEffect(() => {\n    fetch('/data.json')\n      .then((res) => res.json())\n      .then((data) => {\n        setWaves(data.waves);\n        setConnections(data.connections);\n      })\n      .catch((error) => console.error(\"Error loading data:\", error));\n  }, []);\n\n  const handleEventClick = (eventId) => {\n    // 如果当前没有正在连接的事件，则把这个事件作为连接起点\n    if (!pendingConnection) {\n      setPendingConnection({ startEventId: eventId });\n    } else {\n      // 如果正在连接，且再次点到同一个事件，则取消连接\n      if (pendingConnection.startEventId === eventId) {\n        setPendingConnection(null);\n        setPendingConnectionEnd(null);\n        return;\n      }\n      // 否则，把这个事件当做终点，弹出“填写连接原因”的 Modal\n      setPendingTo(eventId);\n      setShowConnectionModal(true);\n    }\n  };\n\n  const handleAddEvent = (waveIndex) => {\n    setActiveWaveIndex(waveIndex);\n    setShowAddModal(true);\n  };\n\n  const handleSubmitNewEvent = (waveIndex, eventData) => {\n    setWaves((prev) => {\n      const newWaves = [...prev];\n      const newId = generateUniqueId();\n      newWaves[waveIndex].events.push({ \n        id: newId, \n        date: eventData.date, \n        title: eventData.title, \n        detail: eventData.detail \n      });\n      return newWaves;\n    });\n  };\n\n  const handleSubmitConnection = (reason) => {\n    setConnections((prev) => [\n      ...prev,\n      { from: pendingConnection.startEventId, to: pendingTo, reason },\n    ]);\n    setPendingConnection(null);\n    setPendingConnectionEnd(null);\n    setPendingTo(null);\n  };\n\n  const handleDeleteEvent = (waveIndex, eventId) => {\n    // 删除该事件\n    setWaves((prev) => {\n      const newWaves = [...prev];\n      newWaves[waveIndex].events = newWaves[waveIndex].events.filter(e => e.id !== eventId);\n      return newWaves;\n    });\n    // 删除与之相关的所有连接\n    const targetId = `${waveIndex}-${eventId}`;\n    setConnections((prev) =>\n      prev.filter((conn) => conn.from !== targetId && conn.to !== targetId)\n    );\n  };\n\n  const handleDeleteConnection = (connIndex) => {\n    setConnections((prev) => prev.filter((_, index) => index !== connIndex));\n  };\n\n  const containerRef = useRef(null);\n  const [scrollPos, setScrollPos] = useState(0);\n  useEffect(() => {\n    const handleScroll = () => setScrollPos(window.scrollY);\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  const handleMouseMove = (e) => {\n    if (pendingConnection) {\n      const containerRect = containerRef.current.getBoundingClientRect();\n      setPendingConnectionEnd({\n        x: e.clientX - containerRect.left,\n        y: e.clientY - containerRect.top,\n      });\n    }\n  };\n\n  return (\n    <div \n      ref={containerRef} \n      onMouseMove={handleMouseMove} \n      style={{ \n        padding: '20px', \n        position: 'relative'\n      }}\n    >\n      {/* 添加事件的 Modal */}\n      <AddEventModal \n        isOpen={showAddModal} \n        onClose={() => setShowAddModal(false)} \n        onSubmit={handleSubmitNewEvent} \n        waveIndex={activeWaveIndex} \n      />\n      \n      {/* 连接原因的 Modal */}\n      <ConnectionReasonModal \n        isOpen={showConnectionModal}\n        onClose={() => {\n          setShowConnectionModal(false);\n          setPendingConnection(null);\n          setPendingConnectionEnd(null);\n        }}\n        onSubmit={handleSubmitConnection}\n      />\n\n      <h1 style={{ textAlign: 'center', marginBottom: '40px' }}>\n        Analogical Timeline of Tech Wave\n      </h1>\n      <div \n        style={{ \n          display: 'flex', \n          justifyContent: 'space-around', \n          flexWrap: 'wrap', \n          marginTop: '40px', \n          position: 'relative',\n          zIndex: 0,\n        }}\n      >\n        {waves.map((wave, index) => (\n          <Timeline\n            key={index}\n            wave={wave}\n            waveIndex={index}\n            registerPosition={registerPosition}\n            onEventClick={handleEventClick}\n            onAddEvent={handleAddEvent}\n            onDeleteEvent={handleDeleteEvent}\n            scrollPos={scrollPos}\n          />\n        ))}\n      </div>\n      <ConnectionsLayer\n        connections={connections}\n        eventPositions={eventPositions}\n        containerRef={containerRef}\n        pendingConnection={pendingConnection}\n        pendingConnectionEnd={pendingConnectionEnd}\n        onDeleteConnection={handleDeleteConnection}\n      />\n    </div>\n  );\n}\n\nexport default Showcase;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}