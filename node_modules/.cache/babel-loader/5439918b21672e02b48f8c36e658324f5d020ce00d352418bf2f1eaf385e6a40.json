{"ast":null,"code":"var _jsxFileName = \"/Users/jasonding/Desktop/BJL/src/components/Simulator.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Simulator() {\n  _s();\n  // 保存玩家和庄家的牌以及游戏结果\n  const [playerCards, setPlayerCards] = useState([]);\n  const [bankerCards, setBankerCards] = useState([]);\n  const [result, setResult] = useState(\"\");\n\n  // 定义牌组：牌值：1-9 分别对应 A～9，10/J/Q/K 均计为 0\n  const cardDeck = [1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 0, 0, 0];\n\n  // 模拟随机抽一张牌\n  function drawCard() {\n    const randomIndex = Math.floor(Math.random() * cardDeck.length);\n    return cardDeck[randomIndex];\n  }\n\n  // 计算牌点数（累加后取个位数）\n  function modSum(cards) {\n    return cards.reduce((acc, card) => acc + card, 0) % 10;\n  }\n\n  // 模拟一局游戏\n  function simulateGame() {\n    // 初始发两张牌给玩家和庄家\n    let pCards = [drawCard(), drawCard()];\n    let bCards = [drawCard(), drawCard()];\n    let playerTotal = modSum(pCards);\n    let bankerTotal = modSum(bCards);\n    let playerThird = null; // 保存玩家是否抽第三张牌\n\n    // 如果双方都不是“自然牌”（8 或 9），则进入补牌规则\n    if (!(playerTotal === 8 || playerTotal === 9 || bankerTotal === 8 || bankerTotal === 9)) {\n      // 玩家规则：如果玩家总点数为 0～5，则抽第三张牌\n      if (playerTotal <= 5) {\n        playerThird = drawCard();\n        pCards.push(playerThird);\n        playerTotal = modSum(pCards);\n      }\n\n      // 庄家规则\n      if (bankerTotal <= 2) {\n        // 庄家总点数 0～2 总是补牌\n        bCards.push(drawCard());\n        bankerTotal = modSum(bCards);\n      } else {\n        if (playerThird === null) {\n          // 如果玩家没有补牌（点数为 6 或 7），庄家当总点数为 0～5 时补牌\n          if (bankerTotal <= 5) {\n            bCards.push(drawCard());\n            bankerTotal = modSum(bCards);\n          }\n        } else {\n          // 如果玩家补牌，则根据玩家第三张牌的点数决定庄家是否补牌\n          const pt = playerThird;\n          if (bankerTotal === 3) {\n            if (pt !== 8) {\n              bCards.push(drawCard());\n              bankerTotal = modSum(bCards);\n            }\n          } else if (bankerTotal === 4) {\n            if (pt >= 2 && pt <= 7) {\n              bCards.push(drawCard());\n              bankerTotal = modSum(bCards);\n            }\n          } else if (bankerTotal === 5) {\n            if (pt >= 4 && pt <= 7) {\n              bCards.push(drawCard());\n              bankerTotal = modSum(bCards);\n            }\n          } else if (bankerTotal === 6) {\n            if (pt === 6 || pt === 7) {\n              bCards.push(drawCard());\n              bankerTotal = modSum(bCards);\n            }\n          }\n          // 当庄家总点数为 7 时，庄家不会补牌\n        }\n      }\n    }\n\n    // 判定胜负：比较最终点数\n    let gameResult = \"\";\n    if (playerTotal > bankerTotal) {\n      gameResult = \"Player wins!\";\n    } else if (bankerTotal > playerTotal) {\n      gameResult = \"Banker wins!\";\n    } else {\n      gameResult = \"Tie!\";\n    }\n\n    // 更新状态，刷新页面显示\n    setPlayerCards(pCards);\n    setBankerCards(bCards);\n    setResult(gameResult);\n  }\n\n  // 页面加载时模拟一局游戏\n  useEffect(() => {\n    simulateGame();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Baccarat \\u6A21\\u62DF\\u5668\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"\\u73A9\\u5BB6\\u7684\\u724C: \", playerCards.join(', ')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u603B\\u70B9\\u6570: \", modSum(playerCards)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"\\u5E84\\u5BB6\\u7684\\u724C: \", bankerCards.join(', ')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u603B\\u70B9\\u6570: \", modSum(bankerCards)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"\\u7ED3\\u679C: \", result]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: simulateGame,\n      children: \"\\u91CD\\u65B0\\u6E38\\u620F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n}\n_s(Simulator, \"Is7sSSJa7AFkXgqSsfVdUO1Eq4o=\");\n_c = Simulator;\nexport default Simulator;\nvar _c;\n$RefreshReg$(_c, \"Simulator\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","Simulator","_s","playerCards","setPlayerCards","bankerCards","setBankerCards","result","setResult","cardDeck","drawCard","randomIndex","Math","floor","random","length","modSum","cards","reduce","acc","card","simulateGame","pCards","bCards","playerTotal","bankerTotal","playerThird","push","pt","gameResult","children","fileName","_jsxFileName","lineNumber","columnNumber","join","onClick","_c","$RefreshReg$"],"sources":["/Users/jasonding/Desktop/BJL/src/components/Simulator.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\n\nfunction Simulator() {\n  // 保存玩家和庄家的牌以及游戏结果\n  const [playerCards, setPlayerCards] = useState([]);\n  const [bankerCards, setBankerCards] = useState([]);\n  const [result, setResult] = useState(\"\");\n\n  // 定义牌组：牌值：1-9 分别对应 A～9，10/J/Q/K 均计为 0\n  const cardDeck = [1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 0, 0, 0];\n\n  // 模拟随机抽一张牌\n  function drawCard() {\n    const randomIndex = Math.floor(Math.random() * cardDeck.length);\n    return cardDeck[randomIndex];\n  }\n\n  // 计算牌点数（累加后取个位数）\n  function modSum(cards) {\n    return cards.reduce((acc, card) => acc + card, 0) % 10;\n  }\n\n  // 模拟一局游戏\n  function simulateGame() {\n    // 初始发两张牌给玩家和庄家\n    let pCards = [drawCard(), drawCard()];\n    let bCards = [drawCard(), drawCard()];\n\n    let playerTotal = modSum(pCards);\n    let bankerTotal = modSum(bCards);\n    let playerThird = null; // 保存玩家是否抽第三张牌\n\n    // 如果双方都不是“自然牌”（8 或 9），则进入补牌规则\n    if (!(playerTotal === 8 || playerTotal === 9 || bankerTotal === 8 || bankerTotal === 9)) {\n      // 玩家规则：如果玩家总点数为 0～5，则抽第三张牌\n      if (playerTotal <= 5) {\n        playerThird = drawCard();\n        pCards.push(playerThird);\n        playerTotal = modSum(pCards);\n      }\n\n      // 庄家规则\n      if (bankerTotal <= 2) {\n        // 庄家总点数 0～2 总是补牌\n        bCards.push(drawCard());\n        bankerTotal = modSum(bCards);\n      } else {\n        if (playerThird === null) {\n          // 如果玩家没有补牌（点数为 6 或 7），庄家当总点数为 0～5 时补牌\n          if (bankerTotal <= 5) {\n            bCards.push(drawCard());\n            bankerTotal = modSum(bCards);\n          }\n        } else {\n          // 如果玩家补牌，则根据玩家第三张牌的点数决定庄家是否补牌\n          const pt = playerThird;\n          if (bankerTotal === 3) {\n            if (pt !== 8) {\n              bCards.push(drawCard());\n              bankerTotal = modSum(bCards);\n            }\n          } else if (bankerTotal === 4) {\n            if (pt >= 2 && pt <= 7) {\n              bCards.push(drawCard());\n              bankerTotal = modSum(bCards);\n            }\n          } else if (bankerTotal === 5) {\n            if (pt >= 4 && pt <= 7) {\n              bCards.push(drawCard());\n              bankerTotal = modSum(bCards);\n            }\n          } else if (bankerTotal === 6) {\n            if (pt === 6 || pt === 7) {\n              bCards.push(drawCard());\n              bankerTotal = modSum(bCards);\n            }\n          }\n          // 当庄家总点数为 7 时，庄家不会补牌\n        }\n      }\n    }\n\n    // 判定胜负：比较最终点数\n    let gameResult = \"\";\n    if (playerTotal > bankerTotal) {\n      gameResult = \"Player wins!\";\n    } else if (bankerTotal > playerTotal) {\n      gameResult = \"Banker wins!\";\n    } else {\n      gameResult = \"Tie!\";\n    }\n\n    // 更新状态，刷新页面显示\n    setPlayerCards(pCards);\n    setBankerCards(bCards);\n    setResult(gameResult);\n  }\n\n  // 页面加载时模拟一局游戏\n  useEffect(() => {\n    simulateGame();\n  }, []);\n\n  return (\n    <div>\n      <h1>Baccarat 模拟器</h1>\n      <div>\n        <h2>玩家的牌: {playerCards.join(', ')}</h2>\n        <p>总点数: {modSum(playerCards)}</p>\n      </div>\n      <div>\n        <h2>庄家的牌: {bankerCards.join(', ')}</h2>\n        <p>总点数: {modSum(bankerCards)}</p>\n      </div>\n      <h2>结果: {result}</h2>\n      <button onClick={simulateGame}>重新游戏</button>\n    </div>\n  );\n}\n\nexport default Simulator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}